-- Script này nên để trong StarterGui > ScreenGui > LocalScript

-- Tạo GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "ToggleGUI"
ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")

local ToggleButton = Instance.new("TextButton")
ToggleButton.Size = UDim2.new(0, 150, 0, 50)
ToggleButton.Position = UDim2.new(0.5, -75, 0.8, 0)
ToggleButton.Text = "Tắt"
ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
ToggleButton.TextColor3 = Color3.new(1, 1, 1)
ToggleButton.Parent = ScreenGui
ToggleButton.Font = Enum.Font.SourceSansBold
ToggleButton.TextSize = 22
ToggleButton.AutoButtonColor = false
ToggleButton.BorderSizePixel = 0
ToggleButton.BackgroundTransparency = 0.1
ToggleButton.Active = true

-- Biến lưu trạng thái
local isOn = false

-- Tham chiếu tới RemoteEvent
local remoteEvent = game:GetService("ReplicatedStorage"):WaitForChild("BridgeNet2"):WaitForChild("dataRemoteEvent")

-- Hàm gửi dữ liệu
local function sendToggle(value)
	local args = {
		{
			value,
			"\024" -- giữ nguyên mã này
		}
	}
	remoteEvent:FireServer(unpack(args))
end

-- Sự kiện click
ToggleButton.MouseButton1Click:Connect(function()
	isOn = not isOn
	if isOn then
		ToggleButton.Text = "Bật"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(60, 255, 60)
	else
		ToggleButton.Text = "Tắt"
		ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 60, 60)
	end
	sendToggle(isOn)
end)
